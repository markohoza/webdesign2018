{"version":3,"file":"dist/on-screen.umd.min.js","sources":["dist/on-screen.umd.js"],"names":["global","factory","exports","module","define","amd","OnScreen","this","attach","container","options","HTMLElement","style","window","getComputedStyle","position","addEventListener","_scroll","attached","inViewport","el","arguments","length","undefined","tolerance","Error","document","querySelector","elRect","getBoundingClientRect","bottom","right","left","innerWidth","documentElement","clientWidth","top","innerHeight","clientHeight","inContainer","containerRect","offsetTop","scrollTop","offsetLeft","scrollLeft","width","height","eventHandler","trackedElements","selectors","Object","keys","testVisibility","forEach","selector","nodes","item","node","wasVisible","isVisible","enter","callback","leave","debouncedScroll","_this","timeout","clearTimeout","setTimeout","debounce","destroy","removeEventListener","off","event","handler","enterCallbacks","leaveCallbacks","hasOwnProperty","call","callbackName","name","on","allowed","indexOf","i","elems","querySelectorAll","push","observeDOM","obj","MutationObserver","WebKitMutationObserver","obs","observe","childList","subtree","defineProperties","configurable","enumerable","get","set","value","parseInt","defineProperty","writable","_debouncedScroll","element","prototype","check"],"mappings":"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"}